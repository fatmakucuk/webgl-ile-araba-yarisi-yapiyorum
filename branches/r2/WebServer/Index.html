<!DOCTYPE html>
<html>
<head>
<title>WebGL ile Araba Yarışı Yapıyorum</title>
<script src="libs/jquery.min.js"></script>
<script src="libs/can.jquery.min.js"></script>
<script src="libs/three.min.js"></script>
<script src="libs/threex.KeyboardState.js"></script>
<script src="libs/RequestAnimationFrame.js"></script>
<script src="js/Scene.js"></script>
<script src="js/PerspectiveCamera.js"></script>
<script src="js/Light.js"></script>
<script src="js/SkyBox.js"></script>
<script src="js/Ground.js"></script>
<script src="js/Car.js"></script>
<script>

    var scene, perspectiveCamera, keyboardState, car, skyBox, ground, light;

    $(function ()
    {
        // Sahnemizi hazırlıyoruz
        scene = new CarGame.Scene();

        // Perspektif kameramızı hazırlıyoruz
        perspectiveCamera = new CarGame.PerspectiveCamera();


        // Işığı sahneye ekliyoruz
        light = new CarGame.Light(scene);

        scene.Add(light);


        // 3D dünyamızın sınırlarını belirleyen küpümüzü sahneye ekliyoruz
        skyBox = new CarGame.SkyBox();

        scene.Add(skyBox);


        // Zemini sahneye ekliyoruz
        ground = new CarGame.Ground();

        scene.Add(ground);


        // Spor arabamızı sahneye ekliyoruz
        car = new CarGame.Car();

        scene.Add(car);


        // Klavyenin durumunu yansıtan nesnemizi tanımlıyoruz
        keyboardState = new THREEx.KeyboardState();


        // Animasyon sürecimizi başlatıyoruz
        Animate();
    });

    function Animate()
    {
        // Arabamıza, klavyenin durumuna göre hizzaya gelmesini söylüyoruz
        car.HandleKeyboard(keyboardState);

        // Perspektif kameranın gözünden sahnemizi Render ettiriyoruz
        scene.Render(perspectiveCamera.Element);

        // Animate metodunu tekrar çağırıyoruz
        requestAnimationFrame(Animate);
    }

</script>
</head>
<body>
</body>
</html>
